<?xml version="1.0" encoding="UTF-8"?>
<!--

    MOTECH PLATFORM OPENSOURCE LICENSE AGREEMENT

    Copyright (c) 2010 The Trustees of Columbia University in the City of
    New York and Grameen Foundation USA.  All rights reserved.

    Redistribution and use in source and binary forms, with or without
    modification, are permitted provided that the following conditions are met:

    1. Redistributions of source code must retain the above copyright notice,
    this list of conditions and the following disclaimer.

    2. Redistributions in binary form must reproduce the above copyright notice,
    this list of conditions and the following disclaimer in the documentation
    and/or other materials provided with the distribution.

    3. Neither the name of Grameen Foundation USA, Columbia University, or
    their respective contributors may be used to endorse or promote products
    derived from this software without specific prior written permission.

    THIS SOFTWARE IS PROVIDED BY GRAMEEN FOUNDATION USA, COLUMBIA UNIVERSITY
    AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING,
    BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS
    FOR A PARTICULAR PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL GRAMEEN FOUNDATION
    USA, COLUMBIA UNIVERSITY OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
    INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
    LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
    OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
    LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
    NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
    EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.

-->

<!DOCTYPE sqldiff PUBLIC "-//OpenMRS//DTD OpenMRS SQL Diff Config 1.0//EN" "http://resources.openmrs.org/doctype/sqldiff-1.0.dtd">

<sqldiff version="1.0">
	<help>
		USE:
			The diffs are ordered by datamodel version number.
			The script can be run in a top down fashion and is
			expected to not failor overwrite old data
		
		EXPECT:
			- "use business-database-name;" was called prior to
			   calling this script
	</help>
	
	<diff>
		<version>0.6.0</version>
		<author>Matthew Blanchette</author>
		<date>July 1 2010</date>
		<description>
			Creating enrollment blackout, troubledphone, messaging, outpatient encounter,
			expected care, facility, and community tables.
			Inserting message definitions, facility locations, facilities, communities,
			patient id types, and idgen sequential generators.
		</description>
		<sql>	
			CREATE TABLE IF NOT EXISTS `motechmodule_enrollment` (
				`motechmodule_enrollment_id` bigint NOT NULL auto_increment,
				`person_id` int NOT NULL,
				`program_name` varchar(200) NOT NULL,
				`obs_id` int,
				`start_date` datetime,
				`end_date` datetime,
				PRIMARY KEY (`motechmodule_enrollment_id`),
				CONSTRAINT `person_id_for_person` FOREIGN KEY (`person_id`) REFERENCES `person` (`person_id`),
				CONSTRAINT `obs_id_for_obs` FOREIGN KEY (`obs_id`) REFERENCES `obs` (`obs_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_blackout` (
				`motechmodule_blackout_id` int(11) NOT NULL auto_increment,
				`start_time` time NOT NULL,
				`end_time` time NOT NULL,
				PRIMARY KEY(`motechmodule_blackout_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_troubledphone` (
				`motechmodule_tphone_id` int(11) NOT NULL auto_increment,
				`phone_number` varchar(50) NOT NULL,
				`creation_time` timestamp NOT NULL DEFAULT current_timestamp,
				`send_failures` int NOT NULL DEFAULT 1,
				PRIMARY KEY(`motechmodule_tphone_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;

			CREATE TABLE IF NOT EXISTS `motechmodule_messageattribute` (
				`motechmodule_messageattribute_id` bigint NOT NULL auto_increment,
				`attribute_name` varchar(255) NOT NULL UNIQUE,
				`attribute_property` varchar(255) NOT NULL,
				PRIMARY KEY (`motechmodule_messageattribute_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;

			CREATE TABLE IF NOT EXISTS `motechmodule_messagedefinition` (
				`motechmodule_messagedefinition_id` bigint NOT NULL auto_increment,
				`message_key` varchar(255) NOT NULL UNIQUE,
				`public_id` bigint NOT NULL UNIQUE,
				`message_type` varchar(13) NOT NULL,
				PRIMARY KEY (`motechmodule_messagedefinition_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;

			CREATE TABLE IF NOT EXISTS `motechmodule_messagedefinition_attribute` (
				`definition_id` bigint NOT NULL,
				`attribute_id` bigint NOT NULL,
				CONSTRAINT `definition_of_attributes` FOREIGN KEY (`definition_id`)
				REFERENCES `motechmodule_messagedefinition` (`motechmodule_messagedefinition_id`),
				CONSTRAINT `attribute_of_definitions` FOREIGN KEY (`attribute_id`)
				REFERENCES `motechmodule_messageattribute` (`motechmodule_messageattribute_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;

			CREATE TABLE IF NOT EXISTS `motechmodule_scheduledmessage` (
				`motechmodule_scheduledmessage_id` bigint NOT NULL auto_increment,
				`scheduled_for` datetime NOT NULL,
				`definition_id` bigint NOT NULL,
				`recipient_id` int NOT NULL,
				`enrollment_id` bigint NOT NULL,
				`care_name` varchar(50),
				PRIMARY KEY (`motechmodule_scheduledmessage_id`),
				CONSTRAINT `person_id_for_recipient` FOREIGN KEY (`recipient_id`) REFERENCES `person` (`person_id`),
				CONSTRAINT `definition_of_scheduledmessage` FOREIGN KEY (`definition_id`)
				REFERENCES `motechmodule_messagedefinition` (`motechmodule_messagedefinition_id`),
				CONSTRAINT `enrollment_of_scheduledmessage` FOREIGN KEY (`enrollment_id`)
				REFERENCES `motechmodule_enrollment` (`motechmodule_enrollment_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_message` (
				`motechmodule_message_id` bigint NOT NULL auto_increment,
				`public_id` varchar(36) NOT NULL UNIQUE,
				`schedule_id` bigint NOT NULL,
				`attempt_date` datetime,
				`attempt_status` varchar(15),
				PRIMARY KEY (`motechmodule_message_id`),
				CONSTRAINT `scheduledmessage_of_message` FOREIGN KEY (`schedule_id`)
				REFERENCES `motechmodule_scheduledmessage` (`motechmodule_scheduledmessage_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			INSERT INTO `motechmodule_messagedefinition` (`message_key`,`public_id`,`message_type`)
			VALUES ('tetanus.info.1',2,'INFORMATIONAL'),('tetanus.info.2',3,'INFORMATIONAL'),
			('tetanus.info.3',5,'INFORMATIONAL'),('tetanus.info.4',6,'INFORMATIONAL'),
			('tetanus.1.prompt',4,'REMINDER'),('tetanus.1.reminder.1',7,'REMINDER'),
			('tetanus.1.reminder.2',8,'REMINDER'),('tetanus.2.prompt',9,'REMINDER'),
			('tetanus.2.reminder.1',10,'REMINDER'),('tetanus.2.reminder.2',11,'REMINDER'),
			('pregnancy.week.5',18,'INFORMATIONAL'),('pregnancy.week.6',19,'INFORMATIONAL'),
			('pregnancy.week.7',20,'INFORMATIONAL'),('pregnancy.week.8',21,'INFORMATIONAL'),
			('pregnancy.week.9',22,'INFORMATIONAL'),('pregnancy.week.10',23,'INFORMATIONAL'),
			('pregnancy.week.11',24,'INFORMATIONAL'),('pregnancy.week.12',25,'INFORMATIONAL'),
			('pregnancy.week.13',26,'INFORMATIONAL'),('pregnancy.week.14',27,'INFORMATIONAL'),
			('pregnancy.week.15',28,'INFORMATIONAL'),('pregnancy.week.16',29,'INFORMATIONAL'),
			('pregnancy.week.17',30,'INFORMATIONAL'),('pregnancy.week.18',31,'INFORMATIONAL'),
			('pregnancy.week.19',32,'INFORMATIONAL'),('pregnancy.week.20',33,'INFORMATIONAL'),
			('pregnancy.week.21',34,'INFORMATIONAL'),('pregnancy.week.22',35,'INFORMATIONAL'),
			('pregnancy.week.23',36,'INFORMATIONAL'),('pregnancy.week.24',37,'INFORMATIONAL'),
			('pregnancy.week.25',38,'INFORMATIONAL'),('pregnancy.week.26',39,'INFORMATIONAL'),
			('pregnancy.week.27',40,'INFORMATIONAL'),('pregnancy.week.28',41,'INFORMATIONAL'),
			('pregnancy.week.29',42,'INFORMATIONAL'),('pregnancy.week.30',43,'INFORMATIONAL'),
			('pregnancy.week.31',44,'INFORMATIONAL'),('pregnancy.week.32',45,'INFORMATIONAL'),
			('pregnancy.week.33',46,'INFORMATIONAL'),('pregnancy.week.34',47,'INFORMATIONAL'),
			('pregnancy.week.35',48,'INFORMATIONAL'),('pregnancy.week.36',49,'INFORMATIONAL'),
			('pregnancy.week.37',50,'INFORMATIONAL'),('pregnancy.week.38',51,'INFORMATIONAL'),
			('pregnancy.week.39',52,'INFORMATIONAL'),('pregnancy.week.40',53,'INFORMATIONAL'),
			('child.week.1',54,'INFORMATIONAL'),('child.week.2',55,'INFORMATIONAL'),
			('child.week.3',56,'INFORMATIONAL'),('child.week.4',57,'INFORMATIONAL'),
			('demo.minute.1',58,'INFORMATIONAL'),('demo.minute.2',59,'INFORMATIONAL'),
			('demo.minute.3',60,'INFORMATIONAL'),('demo.minute.4',61,'INFORMATIONAL'),
			('demo.minute.5',62,'INFORMATIONAL'),('demo.minute.6',63,'INFORMATIONAL'),
			('demo.minute.7',64,'INFORMATIONAL'),('demo.minute.8',65,'INFORMATIONAL'),
			('demo.minute.9',66,'INFORMATIONAL'),('demo.minute.10',67,'INFORMATIONAL'),
			('demo.minute.11',68,'INFORMATIONAL'),('demo.minute.12',69,'INFORMATIONAL'),
			('demo.minute.13',70,'INFORMATIONAL'),('demo.minute.14',71,'INFORMATIONAL'),
			('demo.minute.15',72,'INFORMATIONAL'),('demo.minute.16',73,'INFORMATIONAL'),
			('demo.minute.17',74,'INFORMATIONAL'),('demo.minute.18',75,'INFORMATIONAL'),
			('demo.minute.19',76,'INFORMATIONAL'),('demo.minute.20',77,'INFORMATIONAL'),
			('tt.upcoming',78,'REMINDER'),('tt.overdue',79,'REMINDER'),
			('ipt.upcoming',80,'REMINDER'),('ipt.overdue',81,'REMINDER'),
			('anc.upcoming',82,'REMINDER'),('anc.overdue',83,'REMINDER'),
			('pnc.mother.upcoming',84,'REMINDER'),('pnc.mother.overdue',85,'REMINDER'),
			('pnc.baby.upcoming',86,'REMINDER'),('pnc.baby.overdue',87,'REMINDER'),
			('bcg.upcoming',88,'REMINDER'),('bcg.overdue',89,'REMINDER'),
			('opv.upcoming',90,'REMINDER'),('opv.overdue',91,'REMINDER'),
			('penta.upcoming',92,'REMINDER'),('penta.overdue',93,'REMINDER'),
			('ipti.upcoming',94,'REMINDER'),('ipti.overdue',95,'REMINDER'),
			('yellowfever.upcoming',96,'REMINDER'),('yellowfever.overdue',97,'REMINDER'),
			('measles.upcoming',98,'REMINDER'),('measles.overdue',99,'REMINDER'),
			('vitamina.upcoming',100,'REMINDER'),('vitamina.overdue',101,'REMINDER'),
			('pregnancy.notification',102,'INFORMATIONAL');

			CREATE TABLE IF NOT EXISTS `motechmodule_generaloutpatientencounter` (
				`id` bigint NOT NULL auto_increment,
				`date` date NOT NULL,
				`staff_id` int NOT NULL,
				`facility_id` int NOT NULL,
				`serial_number` varchar(255) NOT NULL,
				`sex` varchar(6) NOT NULL,
				`birthdate` date NOT NULL,
				`insured` boolean NOT NULL,
				`newcase` boolean NOT NULL,
				`diagnosis` int NOT NULL,	
				`secondary_diagnosis` int,
				`referred` boolean NOT NULL,
				`rdt_given` boolean,
				`rdt_positive` boolean,
				`act_treated` boolean,
				`comments` varchar(200),
				PRIMARY KEY (`id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_expected_obs` (
				`motechmodule_expected_obs_id` bigint NOT NULL auto_increment,
				`patient_id` int NOT NULL,
				`concept_id` int NOT NULL,
				`value_coded` int,
				`value_numeric` double,
				`min_datetime` datetime,
				`due_datetime` datetime NOT NULL,
				`late_datetime` datetime NOT NULL,
				`max_datetime` datetime,
				`obs_id` int,
				`care_name` varchar(50) NOT NULL,
				`group_name` varchar(50) NOT NULL,
				`voided` boolean NOT NULL,
				PRIMARY KEY (`motechmodule_expected_obs_id`),
				CONSTRAINT `patient_of_obs` FOREIGN KEY (`patient_id`) REFERENCES `patient` (`patient_id`),
				CONSTRAINT `concept_of_obs` FOREIGN KEY (`concept_id`) REFERENCES `concept` (`concept_id`),
				CONSTRAINT `value_concept_of_obs` FOREIGN KEY (`value_coded`) REFERENCES `concept` (`concept_id`),
				CONSTRAINT `actual_obs` FOREIGN KEY (`obs_id`) REFERENCES `obs` (`obs_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_expected_encounter` (
				`motechmodule_expected_encounter_id` bigint NOT NULL auto_increment,
				`patient_id` int NOT NULL,
				`encounter_type` int NOT NULL,
				`min_datetime` datetime,
				`due_datetime` datetime NOT NULL,
				`late_datetime` datetime NOT NULL,
				`max_datetime` datetime,
				`encounter_id` int,
				`care_name` varchar(50) NOT NULL,
				`group_name` varchar(50) NOT NULL,
				`voided` boolean NOT NULL,
				PRIMARY KEY (`motechmodule_expected_encounter_id`),
				CONSTRAINT `patient_of_encounter` FOREIGN KEY (`patient_id`) REFERENCES `patient` (`patient_id`),
				CONSTRAINT `type_of_encounter` FOREIGN KEY (`encounter_type`) REFERENCES `encounter_type` (`encounter_type_id`),
				CONSTRAINT `actual_encounter` FOREIGN KEY (`encounter_id`) REFERENCES `encounter` (`encounter_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_facility` (
				`id` bigint NOT NULL auto_increment,
				`facility_id` int NOT NULL UNIQUE,
				`location_id` int(11) NOT NULL UNIQUE,
				`phone_number` varchar(50),
				PRIMARY KEY (`id`),
				CONSTRAINT `location_of_facility` FOREIGN KEY (`location_id`) REFERENCES `location` (`location_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_community` (
				`id` bigint NOT NULL auto_increment,
				`community_id` int NOT NULL UNIQUE,
				`name` varchar(50) NOT NULL,
				`facility_id` bigint,
				PRIMARY KEY (`id`),
				CONSTRAINT `facility_of_community` FOREIGN KEY (`facility_id`) REFERENCES `motechmodule_facility` (`id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;
			
			CREATE TABLE IF NOT EXISTS `motechmodule_community_patient` (
				`community_id` bigint NOT NULL,
				`patient_id` int(11) NOT NULL UNIQUE,
				CONSTRAINT `com_pat_rel_community` FOREIGN KEY (`community_id`) REFERENCES `motechmodule_community` (`id`),
				CONSTRAINT `com_pat_rel_patient` FOREIGN KEY (`patient_id`) REFERENCES `patient` (`patient_id`)
			) ENGINE=InnoDB DEFAULT CHARSET=utf8;		
			
			
			insert into location 
				(country,region,county_district,state_province,neighborhood_cell,name,uuid,creator) values
			('Ghana','Upper East','Kassena-Nankana West','Navio','Navio CHPS','Navio CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Katiu-Nakong','Nakong CHPS','Nakong CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Katiu-Nakong','Katiu CHPS','Katiu CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Kayoro','Kayoro CHPS','Kayoro CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Chiana','Nyangania CHPS','Nyangania CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Chiana','Kanania CHPS','Kanania CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Chiana','Kalvio CHPS','Kalvio CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Chiana','Chiana HC','Chiana HC',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Kandiga-Kurugu','Kurugu CHPS','Kurugu CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Kandiga-Kurugu','Kandiga HC','Kandiga HC',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Sirigu','Bugsongo CHPS','Bugsongo CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Sirigu','Sirigu HC','Sirigu HC',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Paga Central','Kejelo CHPS','Kejelo CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Paga Central','Paga HC','Paga HC',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana West','Mirigu','Mirigu CHPS','Mirigu CHPS',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central North East','Yua','Yua',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central North East','Natugnia','Natugnia',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central North East','Manyoro','Manyoro',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central West','Wuru','Wuru',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central West','Gia','Gia',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central West','Vunania','Vunania',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central West','Pindaa','Pindaa',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central East','Nayagnia','Nayagnia',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central East','Kassena Nankana','Kassena Nankana',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central East','Doba','Doba',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central South','Naaga','Naaga',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central South','Biu','Biu',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central Navrongo','Gongnia','Gongnia',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central North','Pungu South','Pungu South',uuid(),1),
			('Ghana','Upper East','Kassena-Nankana','Central North','Pungu North','Pungu North',uuid(),1),
			('Ghana','Field Agent','Field Agent','Field Agent','Field Agent','Field Agent',uuid(),1);
			
			insert into motechmodule_facility (facility_id,location_id) values
			(11117,(select location_id from location where name = 'Navio CHPS')),
			(11210,(select location_id from location where name = 'Nakong CHPS')),
			(11223,(select location_id from location where name = 'Katiu CHPS')),
			(11313,(select location_id from location where name = 'Kayoro CHPS')),
			(11418,(select location_id from location where name = 'Nyangania CHPS')),
			(11425,(select location_id from location where name = 'Kanania CHPS')),
			(11439,(select location_id from location where name = 'Kalvio CHPS')),
			(11441,(select location_id from location where name = 'Chiana HC')),
			(11516,(select location_id from location where name = 'Kurugu CHPS')),
			(11528,(select location_id from location where name = 'Kandiga HC')),
			(11619,(select location_id from location where name = 'Bugsongo CHPS')),
			(11626,(select location_id from location where name = 'Sirigu HC')),
			(11711,(select location_id from location where name = 'Kejelo CHPS')),
			(11724,(select location_id from location where name = 'Paga HC')),
			(11814,(select location_id from location where name = 'Mirigu CHPS')),
			(12113,(select location_id from location where name = 'Yua')),
			(12121,(select location_id from location where name = 'Natugnia')),
			(12132,(select location_id from location where name = 'Manyoro')),
			(12215,(select location_id from location where name = 'Wuru')),
			(12227,(select location_id from location where name = 'Gia')),
			(12236,(select location_id from location where name = 'Vunania')),
			(12243,(select location_id from location where name = 'Pindaa')),
			(12317,(select location_id from location where name = 'Nayagnia')),
			(12329,(select location_id from location where name = 'Kassena Nankana')),
			(12338,(select location_id from location where name = 'Doba')),
			(12412,(select location_id from location where name = 'Naaga')),
			(12420,(select location_id from location where name = 'Biu')),
			(12514,(select location_id from location where name = 'Gongnia')),
			(12611,(select location_id from location where name = 'Pungu South')),
			(12624,(select location_id from location where name = 'Pungu North')),
			(99998,(select location_id from location where name = 'Field Agent'));
			
			insert into motechmodule_community (community_id,name,facility_id) values
			(11111,'Badonu',(select id from motechmodule_facility where facility_id = 11117)),
			(11112,'Sakaa',(select id from motechmodule_facility where facility_id = 11117)),
			(11113,'Samuni',(select id from motechmodule_facility where facility_id = 11117)),
			(11114,'Kasili',(select id from motechmodule_facility where facility_id = 11117)),
			(11115,'Kazugu',(select id from motechmodule_facility where facility_id = 11117)),
			(11116,'Tazika',(select id from motechmodule_facility where facility_id = 11117)),
			(11117,'Bagtua',(select id from motechmodule_facility where facility_id = 11117)),
			(11118,'Tigakuri',(select id from motechmodule_facility where facility_id = 11117)),
			(11211,'New Nakong',(select id from motechmodule_facility where facility_id = 11210)),
			(11212,'Kawenia/Saboro',(select id from motechmodule_facility where facility_id = 11210)),
			(11213,'Awenia',(select id from motechmodule_facility where facility_id = 11210)),
			(11214,'Atinia',(select id from motechmodule_facility where facility_id = 11210)),
			(11215,'Fulani settlement 1',(select id from motechmodule_facility where facility_id = 11210)),
			(11216,'Fulani settlement 2',(select id from motechmodule_facility where facility_id = 11210)),
			(11221,'Adabania',(select id from motechmodule_facility where facility_id = 11223)),
			(11222,'Asasong',(select id from motechmodule_facility where facility_id = 11223)),
			(11223,'Afania',(select id from motechmodule_facility where facility_id = 11223)),
			(11224,'Saboro',(select id from motechmodule_facility where facility_id = 11223)),
			(11225,'Bayoa',(select id from motechmodule_facility where facility_id = 11223)),
			(11226,'Bonania',(select id from motechmodule_facility where facility_id = 11223)),
			(11227,'Sazona',(select id from motechmodule_facility where facility_id = 11223)),
			(11311,'Wombeo',(select id from motechmodule_facility where facility_id = 11313)),
			(11312,'Kadania',(select id from motechmodule_facility where facility_id = 11313)),
			(11313,'Kumbulu',(select id from motechmodule_facility where facility_id = 11313)),
			(11314,'Saboro',(select id from motechmodule_facility where facility_id = 11313)),
			(11315,'Akania/Bunyiu',(select id from motechmodule_facility where facility_id = 11313)),
			(11316,'Aneo/Adungu',(select id from motechmodule_facility where facility_id = 11313)),
			(11317,'Akaa/Achasong',(select id from motechmodule_facility where facility_id = 11313)),
			(11318,'Kabaa Kachela',(select id from motechmodule_facility where facility_id = 11313)),
			(11411,'Gwenia',(select id from motechmodule_facility where facility_id = 11418)),
			(11412,'Vonia',(select id from motechmodule_facility where facility_id = 11418)),
			(11421,'Old Kanania',(select id from motechmodule_facility where facility_id = 11425)),
			(11422,'New Kanania',(select id from motechmodule_facility where facility_id = 11425)),
			(11431,'Abwenia',(select id from motechmodule_facility where facility_id = 11439)),
			(11432,'Gogoro',(select id from motechmodule_facility where facility_id = 11439)),
			(11433,'Nayerinia',(select id from motechmodule_facility where facility_id = 11439)),
			(11434,'Achonia',(select id from motechmodule_facility where facility_id = 11439)),
			(11435,'Aweinia',(select id from motechmodule_facility where facility_id = 11439)),
			(11511,'Kurugu',(select id from motechmodule_facility where facility_id = 11516)),
			(11512,'Kaasi',(select id from motechmodule_facility where facility_id = 11516)),
			(11513,'Atiyorum',(select id from motechmodule_facility where facility_id = 11516)),
			(11514,'Akamo',(select id from motechmodule_facility where facility_id = 11516)),
			(11515,'Agandaa',(select id from motechmodule_facility where facility_id = 11516)),
			(11516,'Azeaduma',(select id from motechmodule_facility where facility_id = 11516)),
			(11517,'Azuridone',(select id from motechmodule_facility where facility_id = 11516)),
			(11611,'Bugsongo',(select id from motechmodule_facility where facility_id = 11619)),
			(11612,'Nyangonlingo',(select id from motechmodule_facility where facility_id = 11619)),
			(11613,'Basengo-moo',(select id from motechmodule_facility where facility_id = 11619)),
			(11614,'Amutanga',(select id from motechmodule_facility where facility_id = 11619)),
			(11615,'Wogingo',(select id from motechmodule_facility where facility_id = 11619)),
			(11711,'Kajelo',(select id from motechmodule_facility where facility_id = 11711)),
			(11712,'Nabio/Batuu',(select id from motechmodule_facility where facility_id = 11711)),
			(11713,'Kayeilo/Baluu',(select id from motechmodule_facility where facility_id = 11711)),
			(11811,'Aburewasi',(select id from motechmodule_facility where facility_id = 11814)),
			(11812,'Alembila',(select id from motechmodule_facility where facility_id = 11814)),
			(11813,'Apia gomongo',(select id from motechmodule_facility where facility_id = 11814)),
			(11814,'Azinzoka',(select id from motechmodule_facility where facility_id = 11814)),
			(11815,'Azuredone',(select id from motechmodule_facility where facility_id = 11814)),
			(11816,'Chengo',(select id from motechmodule_facility where facility_id = 11814)),
			(11817,'Dosun',(select id from motechmodule_facility where facility_id = 11814)),
			(11818,'Gayingo',(select id from motechmodule_facility where facility_id = 11814)),
			(11819,'Gonum A',(select id from motechmodule_facility where facility_id = 11814)),
			(118110,'Gonum B',(select id from motechmodule_facility where facility_id = 11814)),
			(118111,'Kansam',(select id from motechmodule_facility where facility_id = 11814)),
			(118112,'Kasalingo',(select id from motechmodule_facility where facility_id = 11814)),
			(118113,'Kumbusingo',(select id from motechmodule_facility where facility_id = 11814)),
			(118114,'Mirigu-Wayire',(select id from motechmodule_facility where facility_id = 11814)),
			(118115,'Nyongo',(select id from motechmodule_facility where facility_id = 11814)),
			(118116,'Pingo',(select id from motechmodule_facility where facility_id = 11814)),
			(118117,'Pumbisi',(select id from motechmodule_facility where facility_id = 11814)),
			(118118,'Tikongo',(select id from motechmodule_facility where facility_id = 11814)),
			(118119,'Waligu',(select id from motechmodule_facility where facility_id = 11814)),
			(118120,'Zampengo',(select id from motechmodule_facility where facility_id = 11814)),
			(12111,'Atigizi Bifi',(select id from motechmodule_facility where facility_id = 12113)),
			(12112,'Tarebieri',(select id from motechmodule_facility where facility_id = 12113)),
			(12113,'Barigabisi',(select id from motechmodule_facility where facility_id = 12113)),
			(12114,'Aforibisi',(select id from motechmodule_facility where facility_id = 12113)),
			(12115,'Gingerrringo Tinoringo',(select id from motechmodule_facility where facility_id = 12113)),
			(12121,'Akumbisi',(select id from motechmodule_facility where facility_id = 12121)),
			(12122,'Gerebifi',(select id from motechmodule_facility where facility_id = 12121)),
			(12123,'Dazongo',(select id from motechmodule_facility where facility_id = 12121)),
			(12124,'Fabisi',(select id from motechmodule_facility where facility_id = 12121)),
			(12125,'Nyogsi',(select id from motechmodule_facility where facility_id = 12121)),
			(12131,'Gware',(select id from motechmodule_facility where facility_id = 12132)),
			(12132,'Chilla',(select id from motechmodule_facility where facility_id = 12132)),
			(12133,'Dansesi',(select id from motechmodule_facility where facility_id = 12132)),
			(12134,'Wura',(select id from motechmodule_facility where facility_id = 12132)),
			(12135,'Kupella',(select id from motechmodule_facility where facility_id = 12132)),
			(12136,'Benyim',(select id from motechmodule_facility where facility_id = 12132)),
			(12137,'Saforo',(select id from motechmodule_facility where facility_id = 12132)),
			(12138,'Sakunia',(select id from motechmodule_facility where facility_id = 12132)),
			(12139,'Wanjagnia',(select id from motechmodule_facility where facility_id = 12132)),
			(121310,'Deadaa',(select id from motechmodule_facility where facility_id = 12132)),
			(121311,'Gumongo',(select id from motechmodule_facility where facility_id = 12132)),
			(12211,'Wuru',(select id from motechmodule_facility where facility_id = 12215)),
			(12212,'Yogbaniat Yiswania',(select id from motechmodule_facility where facility_id = 12215)),
			(12213,'Bonia',(select id from motechmodule_facility where facility_id = 12215)),
			(12214,'Nangalikinia',(select id from motechmodule_facility where facility_id = 12215)),
			(12215,'Nawognia',(select id from motechmodule_facility where facility_id = 12215)),
			(12216,'Korania',(select id from motechmodule_facility where facility_id = 12215)),
			(12221,'Kwosongo',(select id from motechmodule_facility where facility_id = 12227)),
			(12222,'Nangwoa',(select id from motechmodule_facility where facility_id = 12227)),
			(12223,'Jamaga',(select id from motechmodule_facility where facility_id = 12227)),
			(12224,'Bagania',(select id from motechmodule_facility where facility_id = 12227)),
			(12231,'Janania',(select id from motechmodule_facility where facility_id = 12236)),
			(12232,'Gaani',(select id from motechmodule_facility where facility_id = 12236)),
			(12233,'Vunania',(select id from motechmodule_facility where facility_id = 12236)),
			(12241,'Pindaa',(select id from motechmodule_facility where facility_id = 12243)),
			(12242,'Pinda gua 1',(select id from motechmodule_facility where facility_id = 12243)),
			(12243,'Pinda gua 2',(select id from motechmodule_facility where facility_id = 12243)),
			(12311,'Badania',(select id from motechmodule_facility where facility_id = 12317)),
			(12312,'Karama / Yibanabia',(select id from motechmodule_facility where facility_id = 12317)),
			(12313,'Yitunia',(select id from motechmodule_facility where facility_id = 12317)),
			(12314,'Kungwania',(select id from motechmodule_facility where facility_id = 12317)),
			(12315,'Tankuna',(select id from motechmodule_facility where facility_id = 12317)),
			(12321,'Abempingu A',(select id from motechmodule_facility where facility_id = 12329)),
			(12322,'Abempingu B',(select id from motechmodule_facility where facility_id = 12329)),
			(12323,'Akanrugh Daboo',(select id from motechmodule_facility where facility_id = 12329)),
			(12324,'Akukonguro',(select id from motechmodule_facility where facility_id = 12329)),
			(12325,'Akuka',(select id from motechmodule_facility where facility_id = 12329)),
			(12331,'Korugh Kandaa',(select id from motechmodule_facility where facility_id = 12338)),
			(12332,'Anyayadoanii',(select id from motechmodule_facility where facility_id = 12338)),
			(12333,'Gayingo',(select id from motechmodule_facility where facility_id = 12338)),
			(12334,'Akannaluw',(select id from motechmodule_facility where facility_id = 12338)),
			(12335,'Gindigadinia',(select id from motechmodule_facility where facility_id = 12338)),
			(12411,'Thoo',(select id from motechmodule_facility where facility_id = 12412)),
			(12412,'Nyanbifi',(select id from motechmodule_facility where facility_id = 12412)),
			(12413,'Tikrongo',(select id from motechmodule_facility where facility_id = 12412)),
			(12414,'Chaaba',(select id from motechmodule_facility where facility_id = 12412)),
			(12415,'Kungongo',(select id from motechmodule_facility where facility_id = 12412)),
			(12416,'Tindana',(select id from motechmodule_facility where facility_id = 12412)),
			(12421,'Kodene',(select id from motechmodule_facility where facility_id = 12420)),
			(12422,'Tapolia',(select id from motechmodule_facility where facility_id = 12420)),
			(12423,'Kapania',(select id from motechmodule_facility where facility_id = 12420)),
			(12424,'Dofimdosinbema',(select id from motechmodule_facility where facility_id = 12420)),
			(12425,'Sensa',(select id from motechmodule_facility where facility_id = 12420)),
			(12426,'Consa',(select id from motechmodule_facility where facility_id = 12420)),
			(12427,'Kondalsa',(select id from motechmodule_facility where facility_id = 12420)),
			(12428,'Jaagu',(select id from motechmodule_facility where facility_id = 12420)),
			(12511,'Gongnia',(select id from motechmodule_facility where facility_id = 12514)),
			(12512,'Bodenia',(select id from motechmodule_facility where facility_id = 12514)),
			(12513,'Nagalikinia',(select id from motechmodule_facility where facility_id = 12514)),
			(12611,'Demsasenia',(select id from motechmodule_facility where facility_id = 12611)),
			(12612,'Lower Telania',(select id from motechmodule_facility where facility_id = 12611)),
			(12613,'Punyoro 1',(select id from motechmodule_facility where facility_id = 12611)),
			(12614,'Punyoro 2',(select id from motechmodule_facility where facility_id = 12611)),
			(12615,'Bavugnia',(select id from motechmodule_facility where facility_id = 12611)),
			(12616,'Manchoro',(select id from motechmodule_facility where facility_id = 12611)),
			(12617,'Tekuru',(select id from motechmodule_facility where facility_id = 12611)),
			(12621,'Wasonguru',(select id from motechmodule_facility where facility_id = 12624)),
			(12622,'Bavugnia',(select id from motechmodule_facility where facility_id = 12624)),
			(12623,'Nyangua',(select id from motechmodule_facility where facility_id = 12624)),
			(12624,'Bawiu',(select id from motechmodule_facility where facility_id = 12624)),
			(12625,'Upper Telania',(select id from motechmodule_facility where facility_id = 12624)),
			(12626,'Kwania',(select id from motechmodule_facility where facility_id = 12624));
			
			INSERT INTO `patient_identifier_type` (`name`,`description`,`validator`,`check_digit`,`creator`,`date_created`,`uuid`) VALUES 
			('MoTeCH Id','Patient Id for MoTeCH system.','org.motechproject.server.omod.MotechIdVerhoeffValidator',1,1,now(),uuid()),
			('MoTeCH Staff Id','Staff Id for MoTeCH system.','org.motechproject.server.omod.VerhoeffValidator',1,1,now(),uuid()),
			('MoTeCH Facility Id','Facility Id for MoTeCH system.','org.motechproject.server.omod.VerhoeffValidator',1,1,now(),uuid());

			INSERT INTO `idgen_identifier_source` (`name`,`identifier_type`,`creator`,`date_created`,`uuid`) VALUES 
			('MoTeCH ID Generator',(select patient_identifier_type_id from patient_identifier_type where name = 'MoTeCH Id'),1,now(),uuid()),
			('MoTeCH Staff ID Generator',(select patient_identifier_type_id from patient_identifier_type where name = 'MoTeCH Staff Id'),1,now(),uuid()),
			('MoTeCH Facility ID Generator',(select patient_identifier_type_id from patient_identifier_type where name = 'MoTeCH Facility Id'),1,now(),uuid());

			INSERT INTO `idgen_seq_id_gen` (`id`,`next_sequence_value`,`base_character_set`,`first_identifier_base`,`length`) VALUES 
			((select id from idgen_identifier_source where name = 'MoTeCH ID Generator'),-1,'0123456789','123456',7),
			((select id from idgen_identifier_source where name = 'MoTeCH Staff ID Generator'),-1,'0123456789','46',NULL),
			((select id from idgen_identifier_source where name = 'MoTeCH Facility ID Generator'),-1,'0123456789','1311',NULL);
		</sql>
	</diff>
	
	<diff>
		<version>0.6.1</version>
		<author>Matthew Blanchette</author>
		<date>July 9 2010</date>
		<description>
			Inserting webCoommunity and updating facility name.
		</description>
		<sql>
			insert into motechmodule_community (community_id,name,facility_id) values
			(11423,'Abulo',(select id from motechmodule_facility where facility_id = 11425));
			
			update location set name = 'Kajelo CHPS', neighborhood_cell = 'Kajelo CHPS' where name = 'Kejelo CHPS';
		</sql>
	</diff>

	<diff>
		<version>0.7.0</version>
		<author>Matthew Blanchette</author>
		<date>July 15 2010</date>
		<description>
			Inserting new message definitions for multiple messages per week.
		</description>
		<sql>
			INSERT INTO `motechmodule_messagedefinition` 
			(`message_key`,`public_id`,`message_type`) VALUES 
			('pregnancy.week.5.a',104,'INFORMATIONAL'),('pregnancy.week.5.b',105,'INFORMATIONAL'),('pregnancy.week.5.c',106,'INFORMATIONAL'),
			('pregnancy.week.6.a',107,'INFORMATIONAL'),('pregnancy.week.6.b',108,'INFORMATIONAL'),('pregnancy.week.6.c',109,'INFORMATIONAL'),
			('pregnancy.week.7.a',110,'INFORMATIONAL'),('pregnancy.week.7.b',111,'INFORMATIONAL'),('pregnancy.week.7.c',112,'INFORMATIONAL'),
			('pregnancy.week.8.a',113,'INFORMATIONAL'),('pregnancy.week.8.b',114,'INFORMATIONAL'),('pregnancy.week.8.c',115,'INFORMATIONAL'),
			('pregnancy.week.9.a',116,'INFORMATIONAL'),('pregnancy.week.9.b',117,'INFORMATIONAL'),('pregnancy.week.9.c',118,'INFORMATIONAL'),
			('pregnancy.week.10.a',119,'INFORMATIONAL'),('pregnancy.week.10.b',120,'INFORMATIONAL'),('pregnancy.week.10.c',121,'INFORMATIONAL'),
			('pregnancy.week.11.a',122,'INFORMATIONAL'),('pregnancy.week.11.b',123,'INFORMATIONAL'),('pregnancy.week.11.c',124,'INFORMATIONAL'),
			('pregnancy.week.12.a',125,'INFORMATIONAL'),('pregnancy.week.12.b',126,'INFORMATIONAL'),('pregnancy.week.12.c',127,'INFORMATIONAL'),
			('pregnancy.week.13.a',128,'INFORMATIONAL'),('pregnancy.week.13.b',129,'INFORMATIONAL'),('pregnancy.week.13.c',130,'INFORMATIONAL'),
			('pregnancy.week.14.a',131,'INFORMATIONAL'),('pregnancy.week.14.b',132,'INFORMATIONAL'),('pregnancy.week.14.c',133,'INFORMATIONAL'),
			('pregnancy.week.15.a',134,'INFORMATIONAL'),('pregnancy.week.15.b',135,'INFORMATIONAL'),('pregnancy.week.15.c',136,'INFORMATIONAL'),
			('pregnancy.week.16.a',137,'INFORMATIONAL'),('pregnancy.week.16.b',138,'INFORMATIONAL'),('pregnancy.week.16.c',139,'INFORMATIONAL'),
			('pregnancy.week.17.a',140,'INFORMATIONAL'),('pregnancy.week.17.b',141,'INFORMATIONAL'),('pregnancy.week.17.c',142,'INFORMATIONAL'),
			('pregnancy.week.18.a',143,'INFORMATIONAL'),('pregnancy.week.18.b',144,'INFORMATIONAL'),('pregnancy.week.18.c',145,'INFORMATIONAL'),
			('pregnancy.week.19.a',146,'INFORMATIONAL'),('pregnancy.week.19.b',147,'INFORMATIONAL'),('pregnancy.week.19.c',148,'INFORMATIONAL'),
			('pregnancy.week.20.a',149,'INFORMATIONAL'),('pregnancy.week.20.b',150,'INFORMATIONAL'),('pregnancy.week.20.c',151,'INFORMATIONAL'),
			('pregnancy.week.21.a',152,'INFORMATIONAL'),('pregnancy.week.21.b',153,'INFORMATIONAL'),('pregnancy.week.21.c',154,'INFORMATIONAL'),
			('pregnancy.week.22.a',155,'INFORMATIONAL'),('pregnancy.week.22.b',156,'INFORMATIONAL'),('pregnancy.week.22.c',157,'INFORMATIONAL'),
			('pregnancy.week.23.a',158,'INFORMATIONAL'),('pregnancy.week.23.b',159,'INFORMATIONAL'),('pregnancy.week.23.c',160,'INFORMATIONAL'),
			('pregnancy.week.24.a',161,'INFORMATIONAL'),('pregnancy.week.24.b',162,'INFORMATIONAL'),('pregnancy.week.24.c',163,'INFORMATIONAL'),
			('pregnancy.week.25.a',164,'INFORMATIONAL'),('pregnancy.week.25.b',165,'INFORMATIONAL'),('pregnancy.week.25.c',166,'INFORMATIONAL'),
			('pregnancy.week.26.a',167,'INFORMATIONAL'),('pregnancy.week.26.b',168,'INFORMATIONAL'),('pregnancy.week.26.c',169,'INFORMATIONAL'),
			('pregnancy.week.27.a',170,'INFORMATIONAL'),('pregnancy.week.27.b',171,'INFORMATIONAL'),('pregnancy.week.27.c',172,'INFORMATIONAL'),
			('pregnancy.week.28.a',173,'INFORMATIONAL'),('pregnancy.week.28.b',174,'INFORMATIONAL'),('pregnancy.week.28.c',175,'INFORMATIONAL'),
			('pregnancy.week.29.a',176,'INFORMATIONAL'),('pregnancy.week.29.b',177,'INFORMATIONAL'),('pregnancy.week.29.c',178,'INFORMATIONAL'),
			('pregnancy.week.30.a',179,'INFORMATIONAL'),('pregnancy.week.30.b',180,'INFORMATIONAL'),('pregnancy.week.30.c',181,'INFORMATIONAL'),
			('pregnancy.week.31.a',182,'INFORMATIONAL'),('pregnancy.week.31.b',183,'INFORMATIONAL'),('pregnancy.week.31.c',184,'INFORMATIONAL'),
			('pregnancy.week.32.a',185,'INFORMATIONAL'),('pregnancy.week.32.b',186,'INFORMATIONAL'),('pregnancy.week.32.c',187,'INFORMATIONAL'),
			('pregnancy.week.33.a',188,'INFORMATIONAL'),('pregnancy.week.33.b',189,'INFORMATIONAL'),('pregnancy.week.33.c',190,'INFORMATIONAL'),
			('pregnancy.week.34.a',191,'INFORMATIONAL'),('pregnancy.week.34.b',192,'INFORMATIONAL'),('pregnancy.week.34.c',193,'INFORMATIONAL'),
			('pregnancy.week.35.a',194,'INFORMATIONAL'),('pregnancy.week.35.b',195,'INFORMATIONAL'),('pregnancy.week.35.c',196,'INFORMATIONAL'),
			('pregnancy.week.36.a',197,'INFORMATIONAL'),('pregnancy.week.36.b',198,'INFORMATIONAL'),('pregnancy.week.36.c',199,'INFORMATIONAL'),
			('pregnancy.week.37.a',200,'INFORMATIONAL'),('pregnancy.week.37.b',201,'INFORMATIONAL'),('pregnancy.week.37.c',202,'INFORMATIONAL'),
			('pregnancy.week.38.a',203,'INFORMATIONAL'),('pregnancy.week.38.b',204,'INFORMATIONAL'),('pregnancy.week.38.c',205,'INFORMATIONAL'),
			('pregnancy.week.39.a',206,'INFORMATIONAL'),('pregnancy.week.39.b',207,'INFORMATIONAL'),('pregnancy.week.39.c',208,'INFORMATIONAL'),
			('pregnancy.week.40.a',209,'INFORMATIONAL'),('pregnancy.week.40.b',210,'INFORMATIONAL'),('pregnancy.week.40.c',211,'INFORMATIONAL'),
			('child.week.1.a',212,'INFORMATIONAL'),('child.week.1.b',213,'INFORMATIONAL'),('child.week.1.c',214,'INFORMATIONAL'),
			('child.week.2.a',215,'INFORMATIONAL'),('child.week.2.b',216,'INFORMATIONAL'),('child.week.2.c',217,'INFORMATIONAL'),
			('child.week.3.a',218,'INFORMATIONAL'),('child.week.3.b',219,'INFORMATIONAL'),('child.week.3.c',220,'INFORMATIONAL'),
			('child.week.4.a',221,'INFORMATIONAL'),('child.week.4.b',222,'INFORMATIONAL'),('child.week.4.c',223,'INFORMATIONAL');
		</sql>
	</diff>

	<diff>
		<version>0.8.0</version>
		<author>Matthew Blanchette</author>
		<date>Sept 3 2010</date>
		<description>
			Adding retired column on communites. Inserting new communities, 
			retiring existing communities, and updating name on existing communities.
		</description>
		<sql>
			ALTER TABLE `motechmodule_community` ADD COLUMN `retired` boolean NOT NULL DEFAULT 0;
			
			INSERT INTO motechmodule_community (community_id,name,facility_id) VALUES
			(11413,'Nyangania',(select id from motechmodule_facility where facility_id = 11418)),
			(11436,'Kalvio',(select id from motechmodule_facility where facility_id = 11439)),
			(11424,'Kanania',(select id from motechmodule_facility where facility_id = 11425)),
			(11425,'Kabanga',(select id from motechmodule_facility where facility_id = 11425)),
			(11426,'Korania',(select id from motechmodule_facility where facility_id = 11425)),
			(11518,'Longo',(select id from motechmodule_facility where facility_id = 11516)),
			(11519,'Azaasi',(select id from motechmodule_facility where facility_id = 11516)),
			(115110,'Anisore',(select id from motechmodule_facility where facility_id = 11516)),
			(11228,'Katiu',(select id from motechmodule_facility where facility_id = 11223)),
			(11229,'Kawurania/Atiasong',(select id from motechmodule_facility where facility_id = 11223)),
			(112210,'Achinia',(select id from motechmodule_facility where facility_id = 11223)),
			(11217,'Nakong',(select id from motechmodule_facility where facility_id = 11210)),
			(11319,'Wura',(select id from motechmodule_facility where facility_id = 11313)),
			(113110,'Baliu',(select id from motechmodule_facility where facility_id = 11313)),
			(113111,'Kayoro',(select id from motechmodule_facility where facility_id = 11313)),
			(118121,'Nabango',(select id from motechmodule_facility where facility_id = 11814)),
			(118122,'Apibisi',(select id from motechmodule_facility where facility_id = 11814)),
			(11119,'Bayono',(select id from motechmodule_facility where facility_id = 11117)),
			(111110,'Navio',(select id from motechmodule_facility where facility_id = 11117)),
			(11714,'Aliabolo',(select id from motechmodule_facility where facility_id = 11711)),
			(11616,'Amuntanga',(select id from motechmodule_facility where facility_id = 11619)),
			(11617,'Nyangoligo',(select id from motechmodule_facility where facility_id = 11619));

			UPDATE motechmodule_community SET retired = 1 WHERE community_id = 11412;
			UPDATE motechmodule_community SET retired = 1 WHERE community_id = 11421;
			UPDATE motechmodule_community SET retired = 1 WHERE community_id = 11422;
			
			UPDATE motechmodule_community SET name = 'Gwenia/Vonia' WHERE community_id = 11411;
			UPDATE motechmodule_community SET name = 'Aboenia' WHERE community_id = 11431;
			UPDATE motechmodule_community SET name = 'Gugoro' WHERE community_id = 11432;
			UPDATE motechmodule_community SET name = 'Awenia' WHERE community_id = 11435;
			UPDATE motechmodule_community SET name = 'Abulu' WHERE community_id = 11423;
			UPDATE motechmodule_community SET name = 'Katiu-Saboro' WHERE community_id = 11224;
			UPDATE motechmodule_community SET name = 'Saa-Bayao' WHERE community_id = 11225;
			UPDATE motechmodule_community SET name = 'Saa-Bonania' WHERE community_id = 11226;
			UPDATE motechmodule_community SET name = 'Kadania/Agwongo' WHERE community_id = 11312;
			UPDATE motechmodule_community SET name = 'Kayoro-Saboro' WHERE community_id = 11314;
			UPDATE motechmodule_community SET name = 'Kabaa/Kachela' WHERE community_id = 11318;
			UPDATE motechmodule_community SET name = 'Aburewasa' WHERE community_id = 11811;
			UPDATE motechmodule_community SET name = 'Apia-Gomongo' WHERE community_id = 11813;
			UPDATE motechmodule_community SET name = 'Abugizedone' WHERE community_id = 11815;
			UPDATE motechmodule_community SET name = 'Mirigu-Nayire' WHERE community_id = 118114;
			UPDATE motechmodule_community SET name = 'Sawuni' WHERE community_id = 11113;
			UPDATE motechmodule_community SET name = 'Nabio/Batiu' WHERE community_id = 11712;
			UPDATE motechmodule_community SET name = 'Kayilo/Baloo' WHERE community_id = 11713;
			UPDATE motechmodule_community SET name = 'Busongo' WHERE community_id = 11611;
		</sql>
	</diff>


    <diff>
        <version>0.8.0.1</version>
        <author>ThoughtWorks</author>
        <date>October 20 2010</date>
        <description>
            Adding the Motech Community IDGen Scheme
        </description>
        <sql>
            INSERT INTO `patient_identifier_type` (`name`,`description`,`validator`,`check_digit`,`creator`,`date_created`,`uuid`) VALUES
            ('MoTeCH Community Id','Community Id for MoTeCH system.','org.motechproject.server.omod.VerhoeffValidator',1,1,now(),uuid());

			INSERT INTO `idgen_identifier_source` (`name`,`identifier_type`,`creator`,`date_created`,`uuid`) VALUES
			('MoTeCH Community ID Generator',(select patient_identifier_type_id from patient_identifier_type where name = 'MoTeCH Community Id'),1,now(),uuid());

			INSERT INTO `idgen_seq_id_gen` (`id`,`next_sequence_value`,`base_character_set`,`first_identifier_base`,`length`) VALUES
			((select id from idgen_identifier_source where name = 'MoTeCH Community ID Generator'),-1,'0123456789','130000',NULL);
        </sql>
    </diff>

</sqldiff>
