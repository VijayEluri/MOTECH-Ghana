<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
	http://www.springframework.org/schema/beans
	http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="pregnancyIPTService" class="org.motechproject.server.service.impl.ServiceDeliverySequenceObsImpl">
		<property name="name" value="IPT" />
		<property name="serviceConceptName" value="INTERMITTENT PREVENTATIVE TREATMENT DOSE" />
		<property name="timeBean" ref="timeBean" />
		<property name="registrarBean" ref="registrarBean" />
		<property name="requirements">
			<list>
				<bean class="org.motechproject.server.service.impl.ActivePregnancyRequirement">
					<property name="registrarBean" ref="registrarBean" />
				</bean>
			</list>
		</property>
		<property name="services">
			<list>
				<bean class="org.motechproject.server.service.impl.ServiceDeliveryDoseImpl">
					<property name="name" value="IPT1" />
					<property name="doseNumber" value="1" />
					<!-- 13 weeks in pregnancy -->
					<property name="earliestTimeValue" value="-27" />
					<property name="earliestTimePeriod" value="week" />
					<property name="earliestTimeReference" value="current_pregnancy_duedate" />
					<!-- 14 to 16 weeks in pregnancy -->
					<property name="startTimeValue" value="-26" />
					<property name="startTimePeriod" value="week" />
					<property name="startTimeReference" value="current_pregnancy_duedate" />
					<property name="endTimeValue" value="-24" />
					<property name="endTimePeriod" value="week" />
					<property name="endTimeReference" value="current_pregnancy_duedate" />					
				</bean>
				<bean class="org.motechproject.server.service.impl.ServiceDeliveryDoseImpl">
					<property name="name" value="IPT2" />
					<property name="doseNumber" value="2" />
					<property name="startTimeValue" value="4" />
					<property name="startTimePeriod" value="week" />
					<property name="startTimeReference" value="last_dose_obs_date_current_pregnancy" />
					<property name="endTimeValue" value="5" />
					<property name="endTimePeriod" value="week" />
					<property name="endTimeReference" value="last_dose_obs_date_current_pregnancy" />					
				</bean>
				<bean class="org.motechproject.server.service.impl.ServiceDeliveryDoseImpl">
					<property name="name" value="IPT3" />
					<property name="doseNumber" value="3" />
					<property name="startTimeValue" value="4" />
					<property name="startTimePeriod" value="week" />
					<property name="startTimeReference" value="last_dose_obs_date_current_pregnancy" />
					<property name="endTimeValue" value="5" />
					<property name="endTimePeriod" value="week" />
					<property name="endTimeReference" value="last_dose_obs_date_current_pregnancy" />					
				</bean>
			</list>
		</property>
	</bean>

</beans>	
